@model List<UpdateMe.Areas.Admin.Models.UserViewModel>
@*ako nqma .ToList() trqbwa da se sloji IQueryable vmesto list*@
<h2>AllUsers</h2>
@foreach (var user in Model)    //za da ne foreach-vame v bazata direktno (tova e N+ 1 problema) trqbwa da si imame .ToList()
{                               //trqbwa da izdurpame ot bazata kakvoto ni trqbwa (no tova e na nivo klasove i kontroler) NE TRQBWA da e vuv foreach tuka
    <div>
        @user.Username
        @*ще ползваме Ajax action link - т.е. ще използваме асинхронно*@
        @Ajax.ActionLink("Edit", "EditUser",
       new { username = user.Username },
       new AjaxOptions
       {
           InsertionMode = InsertionMode.Replace,
           UpdateTargetId = "editArea"
       })
    </div>
}
<div id="editArea"></div>

@section scripts {
    @Scripts.Render("~/bundles/jqueryajax")
}